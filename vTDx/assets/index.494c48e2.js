var M=Object.defineProperty;var H=(s,e,t)=>e in s?M(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var I=(s,e,t)=>(H(s,typeof e!="symbol"?e+"":e,t),t);const U=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};U();class O{constructor(){I(this,"toastTimeout",0)}newError(e){const t=e.id,o=e.message;let n=document.getElementById(t);n||(n=document.getElementById("page-allnotes")||document.createElement("div")),n.innerHTML="";const a=document.createElement("div"),l=document.createElement("span"),d=document.createElement("h3"),r=document.createTextNode(o),i=document.createElement("button");i.innerText=e.buttonCaption,i.addEventListener("click",e.buttonAction),l.className="material-icons big-x2",l.innerText=e.materialIcon,a.className="centered-absolute",d.append(r),a.append(l,d,i),n.append(a)}toast(e){clearTimeout(this.toastTimeout),this.hideToast(),setTimeout(()=>{const t=e.title,o=e.text,n=e.delay||0,a=document.getElementById("toast-div")||document.createElement("div"),l=document.getElementById("toast-title")||document.createElement("div"),d=document.getElementById("toast-content")||document.createElement("div");a.classList.remove("hidden"),l.innerText=t,d.innerText=o,n&&(this.toastTimeout=setTimeout(this.hideToast,n))},250)}init(){const e=document.createElement("div"),t=document.createElement("h3"),o=document.createElement("p");e.className="toast hidden",e.id="toast-div",t.innerText="{{title}}",t.className="nomargin",t.id="toast-title",o.innerText="{{content}}",o.className="nomargin",o.id="toast-content",e.append(t,o),document.body.append(e)}hideToast(){(document.getElementById("toast-div")||document.createElement("div")).classList.add("hidden")}}const p=new O;var N;(function(s){s[s.darkmode=0]="darkmode",s[s.lightmode=1]="lightmode"})(N||(N={}));const v=new Map([["default",{name:"One Dark Pro",author:"Atom",colors:{red:"#e06c75",green:"#98c379",yellow:"#e5c07b",blue:"#61afef",purple:"#c678dd",aqua:"#56b6c2",orange:"#c48e49",gray:"#51565f",fg:"#abb2bf",bg:"#232936"},userSelectable:!0,default:!0,scheme:0}],["gruvboxdark",{name:"Gruvbox Dark",author:"GitHub/morhetz",colors:{red:"#cc241d",green:"#98971a",yellow:"#d79921",blue:"#458588",purple:"#b16286",aqua:"#689d6a",orange:"#d65d0e",gray:"#504945",fg:"#ebdbb2",bg:"#282828"},userSelectable:!0,scheme:0}],["nord",{name:"Nord",author:"Arctic Ice Studios",colors:{red:"#bf616a",green:"#a3be8b",yellow:"#ebcb8b",blue:"#5e81ac",purple:"#b48ead",aqua:"#8fbcbb",orange:"#d0a770",gray:"rgb(109,109,109)",fg:"rgb(216,222,233)",bg:"rgb(46,52,64)"},userSelectable:!0,scheme:0}],["deepocean",{name:"Deep Ocean",author:"Material Theme",colors:{red:"#f07178",green:"#c3e88d",yellow:"#ffcb6b",blue:"#82aaff",purple:"#c792ea",aqua:"#89ddff",orange:"#f78c6c",gray:"#546e7a",fg:"#B0BEC5",bg:"#263238"},userSelectable:!0,scheme:0}],["dracula",{name:"Dracula",author:"Zeno Rocha",colors:{red:"#ff5555",green:"#50FA7B",yellow:"#F1FA8C",blue:"#BD93F9",purple:"#BD93F9",aqua:"#8BE9FD",orange:"#FFB86C",gray:"#555",fg:"#A4A4A1",bg:"#282A36"},userSelectable:!0,scheme:0}],["nightowl",{name:"Night Owl",author:"GitHub/sdras",colors:{red:"#EF5350",green:"#22da6e",yellow:"#c5e478",blue:"#82AAFF",purple:"#C792EA",aqua:"#21c7a8",orange:"#FFB458",gray:"#637777",fg:"#d6deeb",bg:"#011627"},userSelectable:!0,scheme:0}],["monokaipro",{name:"Monokai Extended",author:"SuperPaintman",colors:{red:"#F92672",green:"#A6E22E",yellow:"#E6DB74",blue:"#66D9EF",purple:"#AE81FF",aqua:"#21c7a8",orange:"#FFB458",gray:"#75715E",fg:"#F8F8F2",bg:"#272822"},userSelectable:!0,scheme:0}],["palenight",{name:"Pale Night",author:"Olaolu Olawuyi",colors:{red:"#ff5572",green:"#a9c77d",yellow:"#FFCB6B",blue:"#82AAFF",purple:"#C792EA",aqua:"#89DDFF",orange:"#FFB42A",gray:"#697098",fg:"#BFC7D5",bg:"#292D3E"},userSelectable:!0,scheme:0}],["atomonedark",{name:"Atom One Dark",author:"Atom",colors:{red:"#E06C75",green:"#98C379",yellow:"#E5C07B",blue:"#61AFEF",purple:"#C678DD",aqua:"#56B6C2",orange:"#c48e49",gray:"#51565f",fg:"#ABB2BF",bg:"#282C34"},userSelectable:!0,scheme:0}],["gruvboxlight",{name:"Gruvbox Light",author:"GitHub/morhetz",colors:{red:"#cc241d",green:"#98971a",yellow:"#d79921",blue:"#458588",purple:"#b16286",aqua:"#689d6a",orange:"#d65d0e",gray:"#bdae93",fg:"#3c3836",bg:"#fbf1c7"},userSelectable:!0,scheme:1}],["onelightpro",{name:"One Light Pro",author:"Atom",colors:{red:"#e06c75",green:"#98c379",yellow:"#e5c07b",blue:"#61afef",purple:"#c678dd",aqua:"#56b6c2",orange:"#c48e49",gray:"#51565f",fg:"#232936",bg:"#dee5ef"},userSelectable:!0,default:!0,scheme:1}]]);class _{refreshAll(e){var d,r,i;const t=S.getThemes(),o=document.querySelectorAll("div#page-themeselector #darkmode")[0],n=document.querySelectorAll("div#page-themeselector #lightmode")[0];e&&(o.innerHTML="",n.innerHTML="");let a=0,l=0;for(let c=0;c<t.length;c++){const m=document.createElement("div"),b=document.createElement("h3"),D=document.createTextNode((d=t[c][1])==null?void 0:d.name),B=document.createElement("p"),q=document.createTextNode(`By ${(r=t[c][1])==null?void 0:r.author}`),E=document.createElement("button"),w=document.createElement("div"),A=document.createElement("span");localStorage.getItem("theme")&&localStorage.getItem("theme")==t[c][0]&&(A.className="material-icons green",A.innerText="check",m.append(A)),E.className="apply",E.innerText=localStorage.getItem("theme")==t[c][0]?"Applied":"Apply",E.addEventListener("click",()=>{S.applyTheme(t[c][0],!0)}),localStorage.getItem("theme")==t[c][0]&&E.setAttribute("disabled","true"),w.className="color-preview";const F=(i=v.get(t[c][0]))==null?void 0:i.colors;for(const P in F){const C=document.createElement("div");C.className="segment",C.style.background=F[P],w.append(C)}m.className="theme",b.className="header",b.append(D),B.className="author",B.append(q),m.append(b,B,E,w),t[c][1].userSelectable==!0&&(N[t[c][1].scheme]=="darkmode"?(a++,o.append(m),a==3&&(a=0,o.append(document.createElement("br")))):N[t[c][1].scheme]=="lightmode"&&(l++,n.append(m),l==3&&(l=0,n.append(document.createElement("br")))))}}}const L=new _;class J{constructor(){I(this,"loadedTheme","")}applyTheme(e,t){var o;if(console.log(`ThemeManagement: applying ${e}`),v.has(e)){const n="body *, body { ",a=this.getBottomStyleSheet();for(let c=0;c<a.cssRules.length;c++)a.cssRules[c].cssText.startsWith(n+"--")&&this.getBottomStyleSheet().deleteRule(c);const l=v.get(e),d=l==null?void 0:l.colors;let r="";for(const c in d)r+=`--${c}: ${d[c]}; `;((o=v.get(e))==null?void 0:o.scheme)==N.lightmode&&(r+="--topbar-bg: #0001; --sidebar-bg: #00000004; --input-bg: #00000006");let i=`${n}${r.trimEnd()} }`;this.getBottomStyleSheet().insertRule(i,0),t&&localStorage.setItem("theme",e),L.refreshAll(!0)}else{const n={title:"Unable to load theme",text:`Failed to load theme "${e}": it does not exist.

The default theme has been loaded.`,delay:3e3};p.toast(n),this.applyTheme("default",!0)}}getThemes(){let e=[];for(let t of v)e.push(t);return e}init(){document.body.append(document.createElement("style"));let e=localStorage.getItem("theme");this.applyTheme(e,!1)}getBottomStyleSheet(){return document.styleSheets[document.styleSheets.length-1]}}const S=new J;class G{registerColorClasses(){for(let e in u){const t=u[e],o=`body .${t} { color: var(--${t}); }`;try{S.getBottomStyleSheet().insertRule(o,S.getBottomStyleSheet().cssRules.length)}catch{}}}}var u;(function(s){s[s.red=0]="red",s[s.green=1]="green",s[s.yellow=2]="yellow",s[s.blue=3]="blue",s[s.purple=4]="purple",s[s.aqua=5]="aqua",s[s.gray=6]="gray",s[s.orange=7]="orange"})(u||(u={}));const R=new G,f=new Map([["home",{dispName:"Home",materialIcon:"home",onSidebar:!0,color:u.blue,default:!0,addBreak:!0,onHome:!1,inTopBar:!0}],["allnotes",{dispName:"Notes",materialIcon:"description",onSidebar:!0,color:u.purple,hasCountableContent:!0,onHome:!0}],["pinned",{dispName:"Pinned Notes",materialIcon:"bookmark",onSidebar:!0,color:u.green,addBreak:!0,hasCountableContent:!0,onHome:!0}],["task",{dispName:"Tasks",materialIcon:"insert_drive_file",onSidebar:!0,color:u.yellow,hasCountableContent:!0,onHome:!0}],["unftasks",{dispName:"Unfinished Tasks",materialIcon:"file_open",onSidebar:!0,color:u.orange,hasCountableContent:!0,onHome:!0}],["fintasks",{dispName:"Finished Tasks",materialIcon:"task",onSidebar:!0,color:u.green,hasCountableContent:!0,addBreak:!0,onHome:!0}],["themeselector",{dispName:"Themes",materialIcon:"palette",onSidebar:!0,color:u.purple,onHome:!0,inTopBar:!0}],["error",{dispName:"Error",materialIcon:"error",onSidebar:!1,color:u.red}]]);class Y{switch(e,t){var d;const o=document.getElementById(`page-${e}`),n=document.querySelectorAll("#pages>button");for(let r=0;r<n.length;r++)if(n[r].className="option page",n[r].classList.add(n[r]==t?"selected":"unselected"),n[r]==t)n[r].children[0].classList.add(u[f.get(e).color]);else for(const i in u)n[r].children[0].classList.remove(u[i]);let a=`Page Not Found: ${f.get(e).dispName||"Unknown Page"}`,l="var(--red)";if(o&&f.has(e)){const r=document.querySelectorAll("div.page");for(let i=0;i<r.length;i++){if(r[i]!=o){r[i].classList.add("hidden");continue}r[i].classList.remove("hidden")}l=`var(--${u[(d=f.get(e))==null?void 0:d.color]})`,a=f.get(e).dispName,document.title=`vTDx - ${f.get(e).dispName}`}else{this.switch("error");const r={message:"Sorry, that page doesn't seem to exist.",materialIcon:"web_asset_off",buttonCaption:"Go Home",buttonAction:()=>{this.switch("home",document.getElementById("button-page-home"))},id:"page-error"};p.newError(r),document.getElementById("page-dot").style.color=l,document.getElementById("page-disp").innerText=a,document.title="vTDx - Page Not Found"}document.getElementById("page-dot").style.color=l,document.getElementById("page-disp").innerText=a}}const k=new Y;class j{countPinned(){let e=0;const t=this.getNotes();for(let o=0;o<t.length;o++)t[o].pinned&&e++;return e}countUnpinned(){const e=this.countPinned();return this.getNotes().length-e}countNotes(){return this.getNotes().length}populateAllNotes(e,t){t||(t=document.getElementById("page-allnotes")||document.createElement("div")),e&&(t.innerHTML="");const o=this.getNotes();for(let n=0;n<o.length;n++)this.displayNote(n,t);if(!o.length){const n={materialIcon:"description",message:"You have no notes.",id:"page-allnotes",buttonCaption:"Create a note",buttonAction:()=>{y.show(g.note,!0)}};p.newError(n)}}populatePinnedNotes(e,t){t||(t=document.getElementById("page-pinned")||document.createElement("div")),e&&(t.innerHTML="");const o=this.getNotes();let n=0;for(let a=0;a<o.length;a++)console.log(o[a].pinned),o[a].pinned&&(this.displayNote(a,t),n++);if(!n){const a={materialIcon:"bookmark",message:"You have no pinned notes.",id:"page-pinned",buttonCaption:"Goto your notes",buttonAction:()=>{k.switch("allnotes",document.getElementById("button-page-allnotes")||document.createElement("div"))}};p.newError(a)}}refreshAll(){this.populateAllNotes(!0),this.populatePinnedNotes(!0),console.log(`Pinned: ${this.countPinned()} | Unpinned: ${this.countUnpinned()} | Notes: ${this.countNotes()}`);const e=document.querySelector("button#button-page-allnotes span.counter")||document.createElement("div"),t=document.querySelector("button#button-page-pinned span.counter")||document.createElement("div");e.innerText=`${this.countNotes()}`,t.innerText=`${this.countPinned()}`}createNote(e,t){const o=this.getNotes(),n={title:e,content:t,pinned:!1};o.push(n),localStorage.setItem("notestore",JSON.stringify(o))}deleteNote(e){const t=this.getNotes();e<=t.length&&t.splice(e,1),localStorage.setItem("notestore",JSON.stringify(t))}pinNote(e){const t=this.getNotes();e<=t.length&&(t[e].pinned=!0),localStorage.setItem("notestore",JSON.stringify(t))}unPinNote(e){const t=this.getNotes();e<=t.length&&(t[e].pinned=!1),localStorage.setItem("notestore",JSON.stringify(t))}togglePinnedNote(e){const t=this.getNotes();e<=t.length&&(t[e].pinned?this.unPinNote(e):this.pinNote(e),this.refreshAll())}getNotes(){return JSON.parse(localStorage.getItem("notestore"))||[]}displayNote(e,t){t||(t=document.getElementById("page-allnotes")||document.createElement("div"));const o=this.getNotes(),n=document.createElement("div"),a=document.createElement("h3"),l=document.createTextNode(o[e].title),d=document.createElement("p"),r=document.createTextNode(o[e].content),i=document.createElement("button"),c=document.createElement("span"),m=document.createElement("button"),b=document.createElement("span");a.className="header",d.className="content",i.className="delete",i.title="Delete Note",i.addEventListener("click",()=>{this.deleteNote(e),this.refreshAll()}),m.className=`pin${o[e].pinned?" unpin":""}`,m.title=`${o[e].pinned?"Unpin":"Pin"} this Note`,m.addEventListener("click",()=>{this.togglePinnedNote(e),this.refreshAll()}),c.className="material-icons",c.innerText="delete",b.className="material-icons",b.innerText=`bookmark${o[e].pinned?"_remove":"_add"}`,a.append(l),d.append(r),i.append(c),m.append(b),n.className="note",n.append(a,d,i,m),t.append(n)}}const x=new j;class z{countFinished(){var o;let e=0;const t=this.gettasks();for(let n=0;n<t.length;n++)((o=t[n])==null?void 0:o.finished)&&e++;return e}countUnfinished(){const e=this.countFinished();return this.gettasks().length-e}countTasks(){return this.gettasks().length}populatetaskPage(e,t){if(t||(t=document.getElementById("page-task")||document.createElement("div")),t){e&&(t.innerHTML="");const o=this.gettasks();for(let n=0;n<o.length;n++)this.displaytask(n,t);if(!o.length){const n={materialIcon:"task",message:"You have no tasks.",id:"page-task",buttonCaption:"Create a task",buttonAction:()=>{y.show(g.task,!0)}};p.newError(n)}}}populateUnFinishedTasksPage(e,t){if(t||(t=document.getElementById("page-unftasks")||document.createElement("div")),t){e&&(t.innerHTML="");const o=this.gettasks();let n=0;for(let a=0;a<o.length;a++)o[a].finished||(this.displaytask(a,t),n++);if(!n){const a={materialIcon:"task",message:"All your tasks are finished!",id:"page-unftasks",buttonCaption:"Goto your tasks",buttonAction:()=>{k.switch("task",document.getElementById("button-page-task")||document.createElement("div"))}};p.newError(a)}}}populateFinishedTasksPage(e,t){if(t||(t=document.getElementById("page-fintasks")||document.createElement("div")),t){e&&(t.innerHTML="");const o=this.gettasks();let n=0;for(let a=0;a<o.length;a++)o[a].finished&&(this.displaytask(a,t),n++);if(!n){const a={materialIcon:"warning",message:"You haven't completed any of your tasks!",id:"page-fintasks",buttonCaption:"Goto your tasks",buttonAction:()=>{k.switch("task",document.getElementById("button-page-task")||document.createElement("div"))}};p.newError(a)}}}createtask(e){const t=this.gettasks(),o={text:e,finished:!1};t.push(o),localStorage.setItem("taskstore",JSON.stringify(t))}displaytask(e,t){var n;const o=this.gettasks();if(e<=o.length){t||(t=document.getElementById("page-task")||document.createElement("div"));const a=document.createElement("div"),l=document.createElement("p"),d=document.createTextNode((n=o[e])==null?void 0:n.text),r=document.createElement("button"),i=document.createElement("span"),c=document.createElement("button"),m=document.createElement("span");l.className="header",r.className="delete",r.title="Delete task",r.addEventListener("click",()=>{this.deletetask(e),this.refreshAll()}),c.className="finish",c.title=`${o[e].finished?"Mark not done":"Mark done"}`,c.addEventListener("click",()=>{this.toggletaskFinished(e),this.refreshAll()}),m.className="material-icons",m.innerText=`${o[e].finished?"check_box":"check_box_outline_blank"}`,i.className="material-icons",i.innerText="delete",l.append(d),r.append(i),c.append(m),a.className="task",a.append(l,c,r),t.append(a)}}gettasks(){return JSON.parse(localStorage.getItem("taskstore"))||[]}deletetask(e){const t=this.gettasks();e<=t.length&&(t.splice(e,1),p.toast({text:`Task #${e+1} deleted.`,title:"",delay:3e3})),localStorage.setItem("taskstore",JSON.stringify(t))}refreshAll(){this.populatetaskPage(!0),this.populateUnFinishedTasksPage(!0),this.populateFinishedTasksPage(!0),console.log(`Finished: ${this.countFinished()} | Unfinished: ${this.countUnfinished()} | Tasks: ${this.countTasks()}`);const e=document.querySelector("button#button-page-task span.counter")||document.createElement("div"),t=document.querySelector("button#button-page-fintasks span.counter")||document.createElement("div"),o=document.querySelector("button#button-page-unftasks span.counter")||document.createElement("div");e.innerText=`${this.countTasks()}`,t.innerText=`${this.countFinished()}`,o.innerText=`${this.countUnfinished()}`}toggletaskFinished(e){var o;const t=this.gettasks();e<=t.length&&(((o=t[e])==null?void 0:o.finished)?this.markUnfinished(e):this.markFinished(e))}markUnfinished(e){const t=this.gettasks();e<=t.length&&(t[e].finished=!1,p.toast({text:`Marked task #${e+1} as unfinished.`,title:"",delay:3e3})),localStorage.setItem("taskstore",JSON.stringify(t))}markFinished(e){const t=this.gettasks();e<=t.length&&(t[e].finished=!0,p.toast({text:`Marked task #${e+1} as finished.`,title:"",delay:3e3})),localStorage.setItem("taskstore",JSON.stringify(t))}completeAll(){const e=this.gettasks();for(let t=0;t<e.length;t++)e[t].finished=!0;p.toast({text:"Marked all tasks as finished.",title:"",delay:3e3}),localStorage.setItem("taskstore",JSON.stringify(e)),this.refreshAll()}}const T=new z;class K{constructor(){I(this,"initDone",!1)}init(){var m;const e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("h3"),n=document.createElement("p"),a=document.createElement("p"),l=document.createElement("input"),d=document.createElement("textarea"),r=document.createElement("span"),i=document.createElement("button"),c=document.createElement("button");e.id="create-note-dialog",e.className="hidden",t.id="create-note-dialog-shade",t.className="hidden",o.innerText="Create new {{type}}",n.className="nomargin",n.innerText="Title",a.className="nomargin",a.innerText="Content",l.className="fullwidth",d.className="fullwidth",r.className="bottomright",c.id="cancel-button",i.id="create-button",c.innerText="Cancel",i.innerText="Create {{type}}",c.addEventListener("click",this.hide),r.append(c,i),e.append(o,n,l,a,d,r),(m=document.querySelector("div.content"))==null||m.append(t,e),this.initDone=!0}show(e,t){if(this.initDone){const o=document.querySelector("div#create-note-dialog input"),n=document.querySelector("div#create-note-dialog textarea"),a=document.getElementById("create-note-dialog-shade"),l=document.getElementById("create-note-dialog"),d=document.querySelector("div#create-note-dialog h3"),r=document.querySelector("div#create-note-dialog button#create-button"),i=document.querySelectorAll("div#create-note-dialog p.nomargin"),c=V.get(g[e]);t&&(o.value="",n.value=""),d.innerText=`Create New ${c}`,r.innerText=`Create ${c}`,a.classList.remove("hidden"),l.classList.remove("hidden"),console.log(g[e]),g[e]=="task"?(n.style.display="none",i[1].style.display="none",o.style.marginBottom="50px",r.addEventListener("click",this.processtask),i[0].innerText="Content"):(n.style.display="",i[1].style.display="",o.style.marginBottom="",r.addEventListener("click",this.processNote),i[0].innerText="Title")}}hide(){const e=document.getElementById("create-note-dialog-shade"),t=document.getElementById("create-note-dialog");e==null||e.classList.add("hidden"),t==null||t.classList.add("hidden")}processNote(){const e=document.querySelector("div#create-note-dialog input"),t=document.querySelector("div#create-note-dialog textarea");e.value&&t.value?(x.createNote(e.value,t.value),y.hide(),p.toast({text:"Note created!",title:"",delay:3e3})):p.toast({text:"title or content fields are not filled out.",title:"Unable to create note",delay:3e3}),x.refreshAll()}processtask(){const e=document.querySelector("div#create-note-dialog input");e.value?(T.createtask(e.value),y.hide()):p.toast({text:"Content field is not filled out.",title:"Unable to create task",delay:3e3}),T.refreshAll()}}const V=new Map([["note","Note"],["task","Task"]]);var g;(function(s){s[s.task=0]="task",s[s.note=1]="note"})(g||(g={}));const y=new K;class W{populateHomeButtons(){const e=document.querySelectorAll("#page-home>div.centered-absolute");let t=0;for(const o of f)if(o[1].onHome&&!o[1].default){t++;const n=document.createElement("button"),a=document.createElement("span"),l=document.createElement("p"),d=document.createTextNode(o[1].dispName);a.className="material-icons big",a.innerText=o[1].materialIcon,l.className="nomargin",l.append(d),n.append(a,l),n.addEventListener("click",()=>{k.switch(o[0],document.getElementById(`button-page-${o[0]}`))}),n.addEventListener("mouseenter",()=>{a.style.color=`var(--${u[o[1].color]})`}),n.addEventListener("mouseleave",()=>{a.style.color=""}),e[0].append(n),t>=3&&(t=0,e[0].append(document.createElement("br")))}}}const Z=new W,Q=new Map([["newnote",{dispName:"New Note",materialIcon:"add_circle",action:()=>{y.show(g.note,!0)},color:u.purple}],["clearall",{dispName:"Clear All Notes",materialIcon:"clear_all",action:()=>{confirm(`Are you sure you want to clear all notes?

Doing this will clear all notes without return.`)&&(p.toast({title:"",text:"Cleared all notes",delay:3e3}),localStorage.removeItem("notestore"),x.refreshAll())},color:u.red,addBreak:!0}],["newtask",{dispName:"New task",materialIcon:"note_add",action:()=>{y.show(g.task,!0)},color:u.purple}],["clearalltasks",{dispName:"Clear All tasks",materialIcon:"clear_all",action:()=>{confirm(`Are you sure you want to clear all tasks?

Doing this will clear all tasks without return.`)&&(p.toast({title:"",text:"Cleared all tasks",delay:3e3}),localStorage.removeItem("taskstore"),T.refreshAll())},color:u.red}],["finishalltasks",{dispName:"Complete All Tasks",materialIcon:"done_all",action:()=>{T.completeAll()},color:u.green}]]);class X{populatePages(){const e=document.querySelector("div.sidebar>#pages"),t=document.querySelector("div.headerbar #pages");for(const o of f)if(o[1].onSidebar){const n=document.createElement("span"),a=document.createElement("button"),l=document.createElement("span");if(l.innerText=o[1].dispName,n.innerText=o[1].materialIcon,n.className="material-icons",a.className="page unselected option",a.id=`button-page-${o[0]}`,a.title=o[1].dispName,a.append(n),a.append(l),a.addEventListener("click",()=>k.switch(o[0],a)),a.addEventListener("mouseenter",()=>{n.style.color=`var(--${u[o[1].color]})`,l.style.color=`var(--${u[o[1].color]})`}),a.addEventListener("mouseleave",()=>{n.style.color="",l.style.color=""}),o[1].inTopBar?(l.style.display="none",t==null||t.append(a)):(e==null||e.append(a),o[1].addBreak&&(e==null||e.append(document.createElement("hr")))),o[1].hasCountableContent){const d=document.createElement("span");d.className="counter",d.innerText="0",a.append(d)}}}populateActions(){const e=document.querySelector("div.sidebar>div#actions");for(const t of Q){const o=document.createElement("span"),n=document.createElement("button"),a=document.createElement("span"),l=`${Math.floor(Math.random()*32768)}`;a.innerText=t[1].dispName,o.innerText=t[1].materialIcon,o.className="material-icons",o.id=l,n.className="action option",n.title=t[1].dispName,n.append(o),n.append(a),n.addEventListener("click",t[1].action),n.addEventListener("mouseenter",()=>{o.style.color=`var(--${u[t[1].color]})`,a.style.color=`var(--${u[t[1].color]})`}),n.addEventListener("mouseleave",()=>{o.style.color="",a.style.color=""}),e==null||e.append(n),t[1].addBreak&&(e==null||e.append(document.createElement("hr")))}}toggleSidebar(){(localStorage.getItem("sidebar-collapsed")||"false")=="true"?h.expandSidebar():h.collapseSidebar()}expandSidebar(){document.body.classList.remove("sidebar-collapsed"),localStorage.setItem("sidebar-collapsed","false")}collapseSidebar(){document.body.classList.add("sidebar-collapsed"),localStorage.setItem("sidebar-collapsed","true")}init(){this.syncSidebarState(),document.getElementById("sidebar-toggle").addEventListener("click",()=>{h.toggleSidebar(),h.syncSidebarState()})}syncSidebarState(){(localStorage.getItem("sidebar-collapsed")||"false")=="true"?h.collapseSidebar():h.expandSidebar()}}const h=new X;class ee{init(){const e=document.createElement("button"),t=document.createElement("span");e.className="action",e.id="sidebar-toggle",t.className="material-icons",t.innerText="more_vert",e.append(t),document.querySelectorAll("div.headerbar .header")[0].append(e)}}const te=new ee;R.registerColorClasses();const $="home";te.init();y.init();h.init();p.init();S.init();h.populateActions();h.populatePages();x.refreshAll();T.refreshAll();L.refreshAll(!0);k.switch($,document.getElementById(`button-page-${$}`));Z.populateHomeButtons();
