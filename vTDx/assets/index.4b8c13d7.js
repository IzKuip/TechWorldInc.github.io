var U=Object.defineProperty;var _=(l,e,t)=>e in l?U(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var I=(l,e,t)=>(_(l,typeof e!="symbol"?e+"":e,t),t);import{s as D,c as w,j as J,t as j}from"./vendor.ba44c0d1.js";const G=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}};G();class R{constructor(){I(this,"toastTimeout",0)}newError(e){const t=e.id,n=e.message;let o=document.getElementById(t);o||(o=document.getElementById("page-allnotes")||document.createElement("div")),o.innerHTML="";const a=document.createElement("div"),s=document.createElement("span"),i=document.createElement("h3"),r=document.createTextNode(n),c=document.createElement("button");c.innerText=e.buttonCaption,c.addEventListener("click",e.buttonAction),s.className="material-icons big-x2",s.innerText=e.materialIcon,a.className="centered-absolute",i.append(r),a.append(s,i,c),o.append(a)}toast(e){clearTimeout(this.toastTimeout),this.hideToast(),setTimeout(()=>{const t=e.title,n=e.text,o=e.delay||0,a=document.getElementById("toast-div")||document.createElement("div"),s=document.getElementById("toast-title")||document.createElement("div"),i=document.getElementById("toast-content")||document.createElement("div");a.classList.remove("hidden"),s.innerText=t,i.innerText=n,o&&(this.toastTimeout=setTimeout(this.hideToast,o))},250)}init(){const e=document.createElement("div"),t=document.createElement("h3"),n=document.createElement("p");e.className="toast hidden",e.id="toast-div",t.innerText="{{title}}",t.className="nomargin",t.id="toast-title",n.innerText="{{content}}",n.className="nomargin",n.id="toast-content",e.append(t,n),document.body.append(e)}hideToast(){(document.getElementById("toast-div")||document.createElement("div")).classList.add("hidden")}}const p=new R;var N;(function(l){l[l.darkmode=0]="darkmode",l[l.lightmode=1]="lightmode"})(N||(N={}));const v=new Map([["default",{name:"One Dark Pro",author:"Atom",colors:{red:"#e06c75",green:"#98c379",yellow:"#e5c07b",blue:"#61afef",purple:"#c678dd",aqua:"#56b6c2",orange:"#c48e49",gray:"#51565f",fg:"#abb2bf",bg:"#232936"},userSelectable:!0,default:!0,scheme:0}],["gruvboxdark",{name:"Gruvbox Dark",author:"GitHub/morhetz",colors:{red:"#cc241d",green:"#98971a",yellow:"#d79921",blue:"#458588",purple:"#b16286",aqua:"#689d6a",orange:"#d65d0e",gray:"#504945",fg:"#ebdbb2",bg:"#282828"},userSelectable:!0,scheme:0}],["nord",{name:"Nord",author:"Arctic Ice Studios",colors:{red:"#bf616a",green:"#a3be8b",yellow:"#ebcb8b",blue:"#5e81ac",purple:"#b48ead",aqua:"#8fbcbb",orange:"#d0a770",gray:"rgb(109,109,109)",fg:"rgb(216,222,233)",bg:"rgb(46,52,64)"},userSelectable:!0,scheme:0}],["deepocean",{name:"Deep Ocean",author:"Material Theme",colors:{red:"#f07178",green:"#c3e88d",yellow:"#ffcb6b",blue:"#82aaff",purple:"#c792ea",aqua:"#89ddff",orange:"#f78c6c",gray:"#546e7a",fg:"#B0BEC5",bg:"#263238"},userSelectable:!0,scheme:0}],["dracula",{name:"Dracula",author:"Zeno Rocha",colors:{red:"#ff5555",green:"#50FA7B",yellow:"#F1FA8C",blue:"#BD93F9",purple:"#BD93F9",aqua:"#8BE9FD",orange:"#FFB86C",gray:"#555",fg:"#A4A4A1",bg:"#282A36"},userSelectable:!0,scheme:0}],["nightowl",{name:"Night Owl",author:"GitHub/sdras",colors:{red:"#EF5350",green:"#22da6e",yellow:"#c5e478",blue:"#82AAFF",purple:"#C792EA",aqua:"#21c7a8",orange:"#FFB458",gray:"#637777",fg:"#d6deeb",bg:"#011627"},userSelectable:!0,scheme:0}],["monokaipro",{name:"Monokai Extended",author:"SuperPaintman",colors:{red:"#F92672",green:"#A6E22E",yellow:"#E6DB74",blue:"#66D9EF",purple:"#AE81FF",aqua:"#21c7a8",orange:"#FFB458",gray:"#75715E",fg:"#F8F8F2",bg:"#272822"},userSelectable:!0,scheme:0}],["palenight",{name:"Pale Night",author:"Olaolu Olawuyi",colors:{red:"#ff5572",green:"#a9c77d",yellow:"#FFCB6B",blue:"#82AAFF",purple:"#C792EA",aqua:"#89DDFF",orange:"#FFB42A",gray:"#697098",fg:"#BFC7D5",bg:"#292D3E"},userSelectable:!0,scheme:0}],["atomonedark",{name:"Atom One Dark",author:"Atom",colors:{red:"#E06C75",green:"#98C379",yellow:"#E5C07B",blue:"#61AFEF",purple:"#C678DD",aqua:"#56B6C2",orange:"#c48e49",gray:"#51565f",fg:"#ABB2BF",bg:"#282C34"},userSelectable:!0,scheme:0}],["gruvboxlight",{name:"Gruvbox Light",author:"GitHub/morhetz",colors:{red:"#cc241d",green:"#98971a",yellow:"#d79921",blue:"#458588",purple:"#b16286",aqua:"#689d6a",orange:"#d65d0e",gray:"#bdae93",fg:"#3c3836",bg:"#fbf1c7"},userSelectable:!0,scheme:1}],["onelightpro",{name:"One Light Pro",author:"Atom",colors:{red:"#e06c75",green:"#98c379",yellow:"#e5c07b",blue:"#61afef",purple:"#c678dd",aqua:"#56b6c2",orange:"#c48e49",gray:"#51565f",fg:"#232936",bg:"#dee5ef"},userSelectable:!0,default:!0,scheme:1}]]);class Y{refreshAll(e){var i,r,c;const t=S.getThemes(),n=document.querySelectorAll("div#page-themeselector #darkmode")[0],o=document.querySelectorAll("div#page-themeselector #lightmode")[0];e&&(n.innerHTML="",o.innerHTML="");let a=0,s=0;for(let d=0;d<t.length;d++){const m=document.createElement("div"),h=document.createElement("h3"),x=document.createTextNode((i=t[d][1])==null?void 0:i.name),B=document.createElement("p"),$=document.createTextNode(`By ${(r=t[d][1])==null?void 0:r.author}`),E=document.createElement("button"),A=document.createElement("div"),C=document.createElement("span");localStorage.getItem("theme")&&localStorage.getItem("theme")==t[d][0]&&(C.className="material-icons green",C.innerText="check",m.append(C)),E.className="apply",E.innerText=localStorage.getItem("theme")==t[d][0]?"Applied":"Apply",E.addEventListener("click",()=>{S.applyTheme(t[d][0],!0)}),localStorage.getItem("theme")==t[d][0]&&E.setAttribute("disabled","true"),A.className="color-preview";const M=(c=v.get(t[d][0]))==null?void 0:c.colors;for(const O in M){const F=document.createElement("div");F.className="segment",F.style.background=M[O],A.append(F)}m.className="theme",h.className="header",h.append(x),B.className="author",B.append($),m.append(h,B,E,A),t[d][1].userSelectable==!0&&(N[t[d][1].scheme]=="darkmode"?(a++,n.append(m),a==3&&(a=0,n.append(document.createElement("br")))):N[t[d][1].scheme]=="lightmode"&&(s++,o.append(m),s==3&&(s=0,o.append(document.createElement("br")))))}}}const q=new Y;class z{constructor(){I(this,"loadedTheme","")}applyTheme(e,t){var n;if(v.has(e)){const o="body *, body { ",a=this.getBottomStyleSheet();for(let d=0;d<a.cssRules.length;d++)a.cssRules[d].cssText.startsWith(o+"--")&&this.getBottomStyleSheet().deleteRule(d);const s=v.get(e),i=s==null?void 0:s.colors;let r="";for(const d in i)r+=`--${d}: ${i[d]}; `;((n=v.get(e))==null?void 0:n.scheme)==N.lightmode&&(r+="--topbar-bg: #0001; --sidebar-bg: #00000004; --input-bg: #00000006");let c=`${o}${r.trimEnd()} }`;this.getBottomStyleSheet().insertRule(c,0),t&&localStorage.setItem("theme",e),q.refreshAll(!0)}else{const o={title:"Unable to load theme",text:`Failed to load theme "${e}": it does not exist.

The default theme has been loaded.`,delay:3e3};p.toast(o),this.applyTheme("default",!0)}}getThemes(){let e=[];for(let t of v)e.push(t);return e}init(){document.body.append(document.createElement("style"));let e=localStorage.getItem("theme");this.applyTheme(e,!1)}getBottomStyleSheet(){return document.styleSheets[document.styleSheets.length-1]}}const S=new z;class K{registerColorClasses(){for(let e in u){const t=u[e],n=`body .${t} { color: var(--${t}); }`;try{S.getBottomStyleSheet().insertRule(n,S.getBottomStyleSheet().cssRules.length)}catch{}}}}var u;(function(l){l[l.red=0]="red",l[l.green=1]="green",l[l.yellow=2]="yellow",l[l.blue=3]="blue",l[l.purple=4]="purple",l[l.aqua=5]="aqua",l[l.gray=6]="gray",l[l.orange=7]="orange"})(u||(u={}));const V=new K,y=new Map([["home",{dispName:"Home",materialIcon:"home",onSidebar:!0,color:u.blue,default:!0,addBreak:!0,onHome:!1,inTopBar:!0}],["allnotes",{dispName:"Notes",materialIcon:"description",onSidebar:!0,color:u.purple,hasCountableContent:!0,onHome:!0}],["pinned",{dispName:"Pinned Notes",materialIcon:"bookmark",onSidebar:!0,color:u.green,addBreak:!0,hasCountableContent:!0,onHome:!0}],["task",{dispName:"Tasks",materialIcon:"insert_drive_file",onSidebar:!0,color:u.yellow,hasCountableContent:!0,onHome:!0}],["unftasks",{dispName:"Unfinished Tasks",materialIcon:"file_open",onSidebar:!0,color:u.orange,hasCountableContent:!0,onHome:!0}],["fintasks",{dispName:"Finished Tasks",materialIcon:"task",onSidebar:!0,color:u.green,hasCountableContent:!0,addBreak:!0,onHome:!0}],["themeselector",{dispName:"Themes",materialIcon:"palette",onSidebar:!0,color:u.purple,onHome:!0,inTopBar:!0}],["error",{dispName:"Error",materialIcon:"error",onSidebar:!1,color:u.red}]]);class W{switch(e,t){var i;const n=document.getElementById(`page-${e}`),o=document.querySelectorAll("#pages>button");for(let r=0;r<o.length;r++)if(o[r].className="option page",o[r].classList.add(o[r]==t?"selected":"unselected"),o[r]==t)o[r].children[0].classList.add(u[y.get(e).color]);else for(const c in u)o[r].children[0].classList.remove(u[c]);let a=`Page Not Found: ${y.get(e).dispName||"Unknown Page"}`,s="var(--red)";if(n&&y.has(e)){const r=document.querySelectorAll("div.page");for(let c=0;c<r.length;c++){if(r[c]!=n){r[c].classList.add("hidden");continue}r[c].classList.remove("hidden")}s=`var(--${u[(i=y.get(e))==null?void 0:i.color]})`,a=y.get(e).dispName,document.title=`vTDx - ${y.get(e).dispName}`}else{this.switch("error");const r={message:"Sorry, that page doesn't seem to exist.",materialIcon:"web_asset_off",buttonCaption:"Go Home",buttonAction:()=>{this.switch("home",document.getElementById("button-page-home"))},id:"page-error"};p.newError(r),document.getElementById("page-dot").style.color=s,document.getElementById("page-disp").innerText=a,document.title="vTDx - Page Not Found"}document.getElementById("page-dot").style.color=s,document.getElementById("page-disp").innerText=a}}const k=new W;class Z{toHTML(e){return new D.Converter().makeHtml(e)}toMD(e){return new D.Converter().makeMarkdown(e)}}const L=new Z;class Q{countPinned(){let e=0;const t=this.getNotes();for(let n=0;n<t.length;n++)t[n].pinned&&e++;return e}countUnpinned(){return this.getNotes().length-this.countPinned()}countNotes(){return this.getNotes().length}populateAllNotes(e,t){t||(t=document.getElementById("page-allnotes")||document.createElement("div")),e&&(t.innerHTML="");const n=this.getNotes();for(let o=0;o<n.length;o++)this.displayNote(o,t);if(!n.length){const o={materialIcon:"description",message:"You have no notes.",id:"page-allnotes",buttonCaption:"Create a note",buttonAction:()=>{const a={windowTitle:"Create new Note",nodeTitle:"Title",hideTitleField:!1,hideContentField:!1,buttonText:"Create note",buttonAction:(s,i)=>{f.createNote(s,i),f.refreshAll()},clearFields:!0};g.show(a)}};p.newError(o)}}populatePinnedNotes(e,t){t||(t=document.getElementById("page-pinned")||document.createElement("div")),e&&(t.innerHTML="");const n=this.getNotes();let o=0;for(let a=0;a<n.length;a++)n[a].pinned&&(this.displayNote(a,t),o++);if(!o){const a={materialIcon:"bookmark",message:"You have no pinned notes.",id:"page-pinned",buttonCaption:"Goto your notes",buttonAction:()=>{k.switch("allnotes",document.getElementById("button-page-allnotes")||document.createElement("div"))}};p.newError(a)}}refreshAll(){this.populateAllNotes(!0),this.populatePinnedNotes(!0);const e=document.querySelector("button#button-page-allnotes span.counter")||document.createElement("div"),t=document.querySelector("button#button-page-pinned span.counter")||document.createElement("div");e.innerText=`${this.countNotes()}`,t.innerText=`${this.countPinned()}`}createNote(e,t){const n=this.getNotes(),o={title:e,content:t,pinned:!1};n.push(o),localStorage.setItem("notestore",JSON.stringify(n))}deleteNote(e){const t=this.getNotes();e<=t.length&&t.splice(e,1),localStorage.setItem("notestore",JSON.stringify(t))}pinNote(e){const t=this.getNotes();e<=t.length&&(t[e].pinned=!0),localStorage.setItem("notestore",JSON.stringify(t))}unPinNote(e){const t=this.getNotes();e<=t.length&&(t[e].pinned=!1),localStorage.setItem("notestore",JSON.stringify(t))}togglePinnedNote(e){const t=this.getNotes();e<=t.length&&(t[e].pinned?this.unPinNote(e):this.pinNote(e),this.refreshAll())}getNotes(){return JSON.parse(localStorage.getItem("notestore"))||[]}displayNote(e,t){t||(t=document.getElementById("page-allnotes")||document.createElement("div"));const n=this.getNotes(),o=document.createElement("div"),a=document.createElement("h3"),s=document.createElement("p"),i=document.createElement("button"),r=document.createElement("span"),c=document.createElement("button"),d=document.createElement("span"),m=document.createElement("button"),h=document.createElement("span");a.className="header",s.className="content",i.className="delete",i.title="Delete Note",i.addEventListener("click",()=>{this.deleteNote(e),this.refreshAll()}),c.className=`pin${n[e].pinned?" unpin":""}`,c.title=`${n[e].pinned?"Unpin":"Pin"} this Note`,c.addEventListener("click",()=>{this.togglePinnedNote(e),this.refreshAll()}),m.className="edit",m.title="Edit this Note",m.addEventListener("click",()=>{this.editNote(e),this.refreshAll()}),r.className="material-icons",r.innerText="delete",d.className="material-icons",d.innerText=`bookmark${n[e].pinned?"_remove":"_add"}`,h.className="material-icons",h.innerText="edit",a.innerHTML=L.toHTML(n[e].title),s.innerHTML=L.toHTML(n[e].content),i.append(r),c.append(d),m.append(h),o.className="note",o.append(a,s,i,c,m),t.append(o),document.querySelectorAll("code.ts.language-ts").forEach(x=>{w.highlightElement(x)})}editNote(e){var o,a;const t=this.getNotes(),n={windowTitle:"Edit Note",nodeTitle:"Title",hideTitleField:!1,hideContentField:!1,buttonText:"edit note",contentFieldText:(o=t[e])==null?void 0:o.content,titleFieldText:(a=t[e])==null?void 0:a.title,buttonAction:(s,i)=>{var c;const r={title:s,content:i,pinned:(c=t[e])==null?void 0:c.pinned};t[e]=r,localStorage.setItem("notestore",JSON.stringify(t)),f.refreshAll()},clearFields:!1};g.show(n)}}const f=new Q;class X{countFinished(){var n;let e=0;const t=this.getTasks();for(let o=0;o<t.length;o++)((n=t[o])==null?void 0:n.finished)&&e++;return e}countUnfinished(){const e=this.countFinished();return this.getTasks().length-e}countTasks(){return this.getTasks().length}populateTaskPage(e,t){if(t||(t=document.getElementById("page-task")||document.createElement("div")),t){e&&(t.innerHTML="");const n=this.getTasks();for(let o=0;o<n.length;o++)this.displayTask(o,t);if(!n.length){const o={materialIcon:"broken_image",message:"You have no tasks",id:"page-task",buttonCaption:"Create a task",buttonAction:()=>{const a={windowTitle:"Create new Task",nodeTitle:"Content",hideTitleField:!1,hideContentField:!0,buttonText:"Create task",buttonAction:s=>{this.createTask(s),this.refreshAll()},clearFields:!0};g.show(a)}};p.newError(o)}}}populateUnFinishedTasksPage(e,t){if(t||(t=document.getElementById("page-unftasks")||document.createElement("div")),t){e&&(t.innerHTML="");const n=this.getTasks();let o=0;for(let a=0;a<n.length;a++)n[a].finished||(this.displayTask(a,t),o++);if(!o){const a={materialIcon:n.length?"check":"broken_image",message:n.length?"All your tasks are finished!":"You don't have any tasks!",id:"page-unftasks",buttonCaption:"Goto your tasks",buttonAction:()=>{k.switch("task",document.getElementById("button-page-task")||document.createElement("div"))}};p.newError(a)}}}populateFinishedTasksPage(e,t){if(t||(t=document.getElementById("page-fintasks")||document.createElement("div")),t){e&&(t.innerHTML="");const n=this.getTasks();let o=0;for(let a=0;a<n.length;a++)n[a].finished&&(this.displayTask(a,t),o++);if(!o){const a={materialIcon:n.length?"error_outline":"broken_image",message:n.length?"You haven't completed any of your tasks!":"You don't have any tasks!",id:"page-fintasks",buttonCaption:"Goto your tasks",buttonAction:()=>{k.switch("task",document.getElementById("button-page-task")||document.createElement("div"))}};p.newError(a)}}}createTask(e){const t=this.getTasks(),n={text:e,finished:!1};t.push(n),localStorage.setItem("taskstore",JSON.stringify(t))}displayTask(e,t){var o;const n=this.getTasks();if(e<=n.length){t||(t=document.getElementById("page-task")||document.createElement("div"));const a=document.createElement("div"),s=document.createElement("p"),i=document.createElement("button"),r=document.createElement("span"),c=document.createElement("button"),d=document.createElement("span"),m=document.createElement("button"),h=document.createElement("span");s.className="header",i.className="delete",i.title="Delete task",i.addEventListener("click",()=>{this.deleteTask(e),this.refreshAll()}),c.className="finish",c.title=`${n[e].finished?"Mark not done":"Mark done"}`,c.addEventListener("click",()=>{this.toggletaskFinished(e),this.refreshAll()}),s.addEventListener("click",()=>{this.toggletaskFinished(e),this.refreshAll()}),m.className="edit",m.title="Edit task",m.addEventListener("click",()=>{this.editTask(e),this.refreshAll()}),d.className="material-icons",d.innerText=`${n[e].finished?"check_box":"check_box_outline_blank"}`,r.className="material-icons",r.innerText="delete",h.className="material-icons",h.innerText="edit",s.innerHTML=L.toHTML((o=n[e])==null?void 0:o.text),i.append(r),c.append(d),m.append(h),a.className="task",a.append(s,c,i,m),t.append(a)}}getTasks(){return JSON.parse(localStorage.getItem("taskstore"))||[]}deleteTask(e){const t=this.getTasks();e<=t.length&&(t.splice(e,1),p.toast({text:`Task #${e+1} deleted.`,title:"",delay:3e3})),localStorage.setItem("taskstore",JSON.stringify(t))}refreshAll(){this.populateTaskPage(!0),this.populateUnFinishedTasksPage(!0),this.populateFinishedTasksPage(!0);const e=document.querySelector("button#button-page-task span.counter")||document.createElement("div"),t=document.querySelector("button#button-page-fintasks span.counter")||document.createElement("div"),n=document.querySelector("button#button-page-unftasks span.counter")||document.createElement("div");e.innerText=`${this.countTasks()}`,t.innerText=`${this.countFinished()}`,n.innerText=`${this.countUnfinished()}`}toggletaskFinished(e){var n;const t=this.getTasks();e<=t.length&&(((n=t[e])==null?void 0:n.finished)?this.markUnfinished(e):this.markFinished(e))}markUnfinished(e){const t=this.getTasks();e<=t.length&&(t[e].finished=!1,p.toast({text:`Marked task #${e+1} as unfinished.`,title:"",delay:3e3})),localStorage.setItem("taskstore",JSON.stringify(t))}markFinished(e){const t=this.getTasks();e<=t.length&&(t[e].finished=!0,p.toast({text:`Marked task #${e+1} as finished.`,title:"",delay:3e3})),localStorage.setItem("taskstore",JSON.stringify(t))}completeAll(){const e=this.getTasks();for(let t=0;t<e.length;t++)e[t].finished=!0;p.toast({text:"Marked all tasks as finished.",title:"",delay:3e3}),localStorage.setItem("taskstore",JSON.stringify(e)),this.refreshAll()}editTask(e){var o;const t=this.getTasks(),n={windowTitle:"Edit Task",nodeTitle:"Content",hideTitleField:!1,hideContentField:!0,buttonText:"edit Task",titleFieldText:(o=t[e])==null?void 0:o.text,buttonAction:a=>{var i;const s={text:a,finished:(i=t[e])==null?void 0:i.finished};t[e]=s,localStorage.setItem("taskstore",JSON.stringify(t)),T.refreshAll()},clearFields:!1};g.show(n)}}const T=new X;class ee{constructor(){I(this,"initDone",!1)}init(){var m;const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("h3"),o=document.createElement("p"),a=document.createElement("p"),s=document.createElement("input"),i=document.createElement("textarea"),r=document.createElement("span"),c=document.createElement("button"),d=document.createElement("button");e.id="create-note-dialog",e.className="hidden",t.id="create-note-dialog-shade",t.className="hidden",n.innerText="Create new {{type}}",o.className="nomargin",o.innerText="Title",a.className="nomargin",a.innerText="Content",s.className="fullwidth",i.className="fullwidth",s.id="title-inp",i.id="content-inp",r.className="bottomright",d.id="cancel-button",c.id="create-button",d.innerText="Cancel",c.innerText="Create {{type}}",d.addEventListener("click",this.hide),r.append(d,c),e.append(n,o,s,a,i,r),(m=document.querySelector("div.content"))==null||m.append(t,e),this.initDone=!0}show(e){if(this.initDone){let t=function(){r.removeEventListener("click",t);const d=document.getElementById("title-inp").value||"",m=document.getElementById("content-inp").value||"";e.buttonAction(d,m),g.hide()};const n=document.querySelector("div#create-note-dialog input"),o=document.querySelector("div#create-note-dialog textarea"),a=document.getElementById("create-note-dialog-shade"),s=document.getElementById("create-note-dialog"),i=document.querySelector("div#create-note-dialog h3"),r=document.querySelector("div#create-note-dialog button#create-button"),c=document.querySelectorAll("div#create-note-dialog p.nomargin");e.clearFields?(n.value="",o.value=""):(n.value=e.titleFieldText||"",o.value=e.contentFieldText||""),i.innerText=e.windowTitle,r.innerText=e.buttonText,a.classList.remove("hidden"),s.classList.remove("hidden"),o.style.display=e.hideContentField?"none":"",n.style.display=e.hideTitleField?"none":"",c[1].style.display=e.hideContentField?"none":"",n.style.marginBottom=e.hideContentField?"50px":"",r.addEventListener("click",t),c[0].innerText=e.nodeTitle}}hide(){const e=document.getElementById("create-note-dialog-shade"),t=document.getElementById("create-note-dialog");e==null||e.classList.add("hidden"),t==null||t.classList.add("hidden")}processNote(){const e=document.querySelector("div#create-note-dialog input"),t=document.querySelector("div#create-note-dialog textarea");e.value&&t.value?(f.createNote(e.value,t.value),g.hide(),p.toast({text:"Note created!",title:"",delay:3e3})):p.toast({text:"title or content fields are not filled out.",title:"Unable to create note",delay:3e3}),f.refreshAll()}processtask(){const e=document.querySelector("div#create-note-dialog input");e.value?(T.createTask(e.value),g.hide()):p.toast({text:"Content field is not filled out.",title:"Unable to create task",delay:3e3}),T.refreshAll()}}const g=new ee;class te{populateHomeButtons(){const e=document.querySelectorAll("#page-home>div.centered-absolute");let t=0;for(const n of y)if(n[1].onHome&&!n[1].default){t++;const o=document.createElement("button"),a=document.createElement("span"),s=document.createElement("p"),i=document.createTextNode(n[1].dispName);a.className="material-icons big",a.innerText=n[1].materialIcon,s.className="nomargin",s.append(i),o.append(a,s),o.addEventListener("click",()=>{k.switch(n[0],document.getElementById(`button-page-${n[0]}`))}),o.addEventListener("mouseenter",()=>{a.style.color=`var(--${u[n[1].color]})`}),o.addEventListener("mouseleave",()=>{a.style.color=""}),e[0].append(o),t>=3&&(t=0,e[0].append(document.createElement("br")))}}}const ne=new te;class oe{display(e){const t={windowTitle:e.title,nodeTitle:e.message,hideTitleField:!0,hideContentField:!0,buttonText:e.confirmButtonText,buttonAction:e.confirmButtonAction,clearFields:!0};g.show(t)}}const H=new oe,ae=new Map([["newnote",{dispName:"New Note",materialIcon:"add_circle",action:()=>{const l={windowTitle:"Create new Note",nodeTitle:"Title",hideTitleField:!1,hideContentField:!1,buttonText:"Create note",buttonAction:(e,t)=>{f.createNote(e,t),f.refreshAll()},clearFields:!0};g.show(l)},color:u.purple}],["clearall",{dispName:"Clear All Notes",materialIcon:"clear_all",action:()=>{const l={title:"Clear All Notes",message:"Are you sure you want to clear all notes? There is no going back!",confirmButtonAction:()=>{p.toast({title:"",text:"Cleared all notes",delay:3e3}),localStorage.removeItem("notestore"),f.refreshAll()},confirmButtonText:"Clear"};H.display(l)},color:u.red,addBreak:!0}],["newtask",{dispName:"New task",materialIcon:"note_add",action:()=>{const l={windowTitle:"Create new Task",nodeTitle:"Content",hideTitleField:!1,hideContentField:!0,buttonText:"Create task",buttonAction:e=>{T.createTask(e),T.refreshAll()},clearFields:!0};g.show(l)},color:u.purple}],["clearalltasks",{dispName:"Clear All tasks",materialIcon:"clear_all",action:()=>{const l={title:"Clear All Tasks",message:"Are you sure you want to clear all tasks? There is no going back!",confirmButtonAction:()=>{p.toast({title:"",text:"Cleared all tasks",delay:3e3}),localStorage.removeItem("taskstore"),T.refreshAll()},confirmButtonText:"Clear"};H.display(l)},color:u.red}],["finishalltasks",{dispName:"Complete All Tasks",materialIcon:"done_all",action:()=>{T.completeAll()},color:u.green}]]);class se{populatePages(){const e=document.querySelector("div.sidebar>#pages"),t=document.querySelector("div.headerbar #pages");for(const n of y)if(n[1].onSidebar){const o=document.createElement("span"),a=document.createElement("button"),s=document.createElement("span");if(s.innerText=n[1].dispName,o.innerText=n[1].materialIcon,o.className="material-icons",a.className="page unselected option",a.id=`button-page-${n[0]}`,a.title=n[1].dispName,a.append(o),a.append(s),a.addEventListener("click",()=>k.switch(n[0],a)),a.addEventListener("mouseenter",()=>{o.style.color=`var(--${u[n[1].color]})`,s.style.color=`var(--${u[n[1].color]})`}),a.addEventListener("mouseleave",()=>{o.style.color="",s.style.color=""}),n[1].inTopBar?(s.style.display="none",t==null||t.append(a)):(e==null||e.append(a),n[1].addBreak&&(e==null||e.append(document.createElement("hr")))),n[1].hasCountableContent){const i=document.createElement("span");i.className="counter",i.innerText="0",a.append(i)}}}populateActions(){const e=document.querySelector("div.sidebar>div#actions");for(const t of ae){const n=document.createElement("span"),o=document.createElement("button"),a=document.createElement("span"),s=`${Math.floor(Math.random()*32768)}`;a.innerText=t[1].dispName,n.innerText=t[1].materialIcon,n.className="material-icons",n.id=s,o.className="action option",o.title=t[1].dispName,o.append(n),o.append(a),o.addEventListener("click",t[1].action),o.addEventListener("mouseenter",()=>{n.style.color=`var(--${u[t[1].color]})`,a.style.color=`var(--${u[t[1].color]})`}),o.addEventListener("mouseleave",()=>{n.style.color="",a.style.color=""}),e==null||e.append(o),t[1].addBreak&&(e==null||e.append(document.createElement("hr")))}}toggleSidebar(){(localStorage.getItem("sidebar-collapsed")||"false")=="true"?b.expandSidebar():b.collapseSidebar()}expandSidebar(){document.body.classList.remove("sidebar-collapsed"),localStorage.setItem("sidebar-collapsed","false")}collapseSidebar(){document.body.classList.add("sidebar-collapsed"),localStorage.setItem("sidebar-collapsed","true")}init(){this.syncSidebarState(),document.getElementById("sidebar-toggle").addEventListener("click",()=>{b.toggleSidebar(),b.syncSidebarState()})}syncSidebarState(){(localStorage.getItem("sidebar-collapsed")||"false")=="true"?b.collapseSidebar():b.expandSidebar()}}const b=new se;class le{init(){const e=document.createElement("button"),t=document.createElement("span");e.className="action",e.id="sidebar-toggle",t.className="material-icons",t.innerText="more_vert",e.append(t),document.querySelectorAll("div.headerbar .header")[0].append(e)}}const ie=new le;class re{init(){console.warn=()=>{}}}const ce=new re;w.registerLanguage("ts",J);w.registerLanguage("js",j);w.highlightAll();V.registerColorClasses();const P="home";ie.init();g.init();b.init();p.init();S.init();ce.init();b.populateActions();b.populatePages();f.refreshAll();T.refreshAll();q.refreshAll(!0);k.switch(P,document.getElementById(`button-page-${P}`));ne.populateHomeButtons();
